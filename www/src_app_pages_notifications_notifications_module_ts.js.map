{"version":3,"file":"src_app_pages_notifications_notifications_module_ts.js","mappings":"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","sources":["./src/app/directives/backbutton.directive.ts","./src/app/directives/backbutton.module.ts","./src/app/directives/index.ts","./src/app/pages/notifications/notifications-routing.module.ts","./src/app/pages/notifications/notifications.module.ts","./src/app/pages/notifications/notifications.page.ts","./src/app/pages/notifications/notifications.page.html"],"sourcesContent":["import { Directive, HostListener } from \"@angular/core\";\nimport { NavigationService } from \"../services\";\n \n@Directive({\n  selector: \"[backButton]\",\n})\nexport class BackButtonDirective {\n  constructor(private navigation: NavigationService) {}\n \n  @HostListener(\"click\")\n  onClick(): void {\n    this.navigation.back();\n  }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { BackButtonDirective } from './backbutton.directive';\nimport { IonicModule } from '@ionic/angular';\nimport { BackbuttonComponent } from './backbutton/backbutton.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n  ],\n  declarations: [BackbuttonComponent],\n  exports: [BackbuttonComponent]\n})\nexport class BackButtonDirectiveModule {}\n","export * from \"./backbutton.directive\";\nexport * from \"./backbutton.module\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NotificationsPage } from './notifications.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NotificationsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NotificationsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NotificationsPageRoutingModule } from './notifications-routing.module';\n\nimport { NotificationsPage } from './notifications.page';\nimport { BackButtonDirectiveModule } from 'src/app/directives';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NotificationsPageRoutingModule,\n    BackButtonDirectiveModule\n  ],\n  declarations: [NotificationsPage]\n})\nexport class NotificationsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport {NoticeService } from 'src/app/services/notifications/notice.service';\nimport { NoticehomeService } from 'src/app/services/notifications/noticehome.service';\nimport { Notice } from 'src/app/models/notice.model';\nimport { AlertController, NavController } from '@ionic/angular';\nimport { Location } from \"@angular/common\";\nimport { getAuth } from 'firebase/auth';\n// import { HomePage } from '../home/home.page';\n// import { Router } from '@angular/router';\n// import { getAuth } from 'firebase/auth';\n\n@Component({\n  selector: 'app-notifications',\n  templateUrl: './notifications.page.html',\n  styleUrls: ['./notifications.page.scss'],\n})\n\n\n\nexport class NotificationsPage implements OnInit {\n  \n\n  noticeamount : number ;\n  noticeList: Notice[];\n  noticeList2: Notice[] = [];\n  sendamount: string ;\n  auth = getAuth();\n  currUserId = this.auth.currentUser?.uid;\n  \n  \n  //noticeList: Observable<Notice[]> = this.noticeService.getNotices();\n \n\n  constructor(private noticeService: NoticeService , \n    private alertController: AlertController,\n    public nav: NavController,\n    private noticehomeService: NoticehomeService) { \n    \n  }\n \n  ngOnInit() {\n    this.getNotifications() ;\n      \n  }\n   \n  getNotifications(){\n    this.noticeService.getNotices().subscribe((notices: Notice[]) => {\n      this.noticeList = notices;\n      for(let i = 0 ; i<this.noticeList.length ; i++){\n        if(this.noticeList[i].userid == this.currUserId){\n          this.noticeList2.push(this.noticeList[i]) ;\n        }\n      }\n      this.noticeamount = this.noticeList2.length ;\n      console.log('Number of notices:' ,this.noticeamount);\n      this.sendNotifications(this.noticeamount);\n      \n\n    });  \n\n  }\n\n  async presentAlert() {\n    const alert = await this.alertController.create({\n      header: 'Alert',\n      message: 'You have no new notifications!',\n      buttons: ['OK']\n    });\n    \n\n    await alert.present();\n  }\n\n  clearNotifications(){\n\n    for(let i = 0 ; i<this.noticeList2.length ; i++){\n      this.noticeService.deleteNotices(this.noticeList2[i].id!);\n      console.log(this.noticeList2[i].id)\n    }\n    this.noticeList2 = [] ;\n  }\n\n  clearNotification(id :string){\n    this.noticeService.deleteNotices(id);\n    console.log(\"seen part\" + id);\n    for(let i = 0 ; i<this.noticeList2.length ; i++){\n      if (id == this.noticeList2[i].id){\n        this.noticeList2.splice(i , 1) ;\n      }\n    }\n\n\n  }\n\n  sendNotifications(num :number){\n    this.noticeamount = num ;\n    this.noticehomeService.send_data.next(this.noticeamount);\n  }\n\n  createNotifications(sendername: string , sentdate: string , message: string){\n    this.noticeService.createNotices(sendername , sentdate , message , this.currUserId!);\n  }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-item color=\"medium\">\n      <backbutton></backbutton>\n      <ion-title>Notifications</ion-title>\n    </ion-item>\n  </ion-toolbar>\n</ion-header>\n<br>\n\n\n<ion-content class=\"main\">\n  <ion-item lines=\"none\">\n    <ion-title slot=\"start\" style=\"display:inline-block\"><b>Today</b></ion-title>\n    <ion-title slot=\"end\" style=\"display:inline-block\" ><ion-button fill=\"clear\" (click)=\"clearNotifications()\">Clear all</ion-button></ion-title>\n  </ion-item>\n    <br>\n    <br>\n    \n  <div *ngIf=\"noticeamount > 0\" >\n  <ion-card class=\"Mcard\" *ngFor=\"let notice of noticeList2\">\n    <div>{{\"&nbsp;\".repeat(89)}}<ion-button fill=\"clear\" size=\"small\" (click)=\"clearNotification(notice.id!)\"><ion-icon name=\"close-circle-outline\" size=\"small\"></ion-icon></ion-button></div>\n    <ion-card-content style=\"display:flex ; align-items:center\" >\n  <ion-avatar slot=\"start\">\n    <img alt=\"Silhouette of a person's head\" src=\"https://i.pravatar.cc/300\" />\n  </ion-avatar>\n  <ion-grid>\n    <ion-row>\n  <ion-label class=\"Bcard\"><b>&nbsp;&nbsp;{{notice.sendername}}</b></ion-label>\n   </ion-row>  \n  <ion-label class=\"Bcard\">&nbsp;&nbsp;{{notice.message}}</ion-label>\n</ion-grid>\n</ion-card-content>\n<div *ngIf=\"notice.message == 'Removed you as a Friend!'\">\n<ion-button size=\"small\" >Accept</ion-button>\n<ion-button size=\"small\" >Reject</ion-button>\n</div>\n<ion-label>{{\"&nbsp;\".repeat(90)}}{{notice.sentdate}}</ion-label>\n\n</ion-card>\n</div>\n<br>\n\n<ion-card *ngIf=\"noticeamount == 0\" class=\"flex-center\">\n  <ion-button (click)=\"presentAlert()\">No Notifications!</ion-button>\n  </ion-card>\n\n\n\n\n</ion-content>"],"names":["BackButtonDirective","constructor","navigation","onClick","back","i0","ɵɵdirectiveInject","i1","NavigationService","selectors","hostBindings","BackButtonDirective_HostBindings","rf","ctx","CommonModule","FormsModule","IonicModule","BackbuttonComponent","BackButtonDirectiveModule","declarations","imports","exports","RouterModule","NotificationsPage","routes","path","component","NotificationsPageRoutingModule","forChild","NotificationsPageModule","getAuth","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","NotificationsPage_div_17_ion_card_1_Template_ion_button_click_3_listener","restoredCtx","ɵɵrestoreView","_r6","notice_r3","$implicit","ctx_r5","ɵɵnextContext","ɵɵresetView","clearNotification","id","ɵɵelement","ɵɵtemplate","NotificationsPage_div_17_ion_card_1_div_15_Template","ɵɵadvance","ɵɵtextInterpolate","repeat","ɵɵtextInterpolate1","sendername","message","ɵɵproperty","ɵɵtextInterpolate2","sentdate","NotificationsPage_div_17_ion_card_1_Template","ctx_r0","noticeList2","NotificationsPage_ion_card_19_Template_ion_button_click_1_listener","_r8","ctx_r7","presentAlert","noticeService","alertController","nav","noticehomeService","auth","currUserId","currentUser","uid","ngOnInit","getNotifications","getNotices","subscribe","notices","noticeList","i","length","userid","push","noticeamount","console","log","sendNotifications","_this","_asyncToGenerator","alert","create","header","buttons","present","clearNotifications","deleteNotices","splice","num","send_data","next","createNotifications","createNotices","NoticeService","i2","AlertController","NavController","i3","NoticehomeService","decls","vars","consts","template","NotificationsPage_Template","NotificationsPage_Template_ion_button_click_13_listener","NotificationsPage_div_17_Template","NotificationsPage_ion_card_19_Template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}