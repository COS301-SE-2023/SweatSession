
<ion-card>
    <ion-toast trigger="open-toast" color = "success" position = "top" message= "Profile Picture Saved" [duration]="1500" icon="shield-checkmark-outline"></ion-toast>
    <ion-toast trigger="SDP" color = "success" position = "top" message="Personal Info Saved" [duration]="1500" icon="shield-checkmark-outline"></ion-toast>

    <ion-item-divider style="background-color: #A8DADC;">
        <ion-label slot="start">Profile Picture</ion-label>
        <ion-icon name="create-outline" slot="end" size="large" (click)="selectFile()"></ion-icon>
        <input  type="file" id = "fileInput" accept="image/*" (change)="onFileSelected($event)" style="display: none">
    </ion-item-divider>


    <div class="profile-img-container">
        <ion-avatar class="profile-image">
            <ion-img [src]="getDp()"></ion-img>
        </ion-avatar>
    </div>

    <ion-row>
        <ion-col class="ion-text-center">
            <ion-button fill="outline" id="SDP" expand="block" size="small" (click)="saveProfile()" [disabled]="!file">Save Picture</ion-button>
        </ion-col>
    </ion-row>


</ion-card>

<ion-card>

    <ion-item-divider style="background-color: #A8DADC; padding: 10px">
        <ion-label slot="start">Personal Info</ion-label>
    </ion-item-divider>

    <ion-list>
            <form [formGroup]="profileForm">
                <ion-item >
                    <ion-input label="Display Name"  labelPlacement="stacked" type = "text" formControlName= "displayName" placeholder="Enter Display Name" maxlength="20"></ion-input>
                </ion-item>

                <ion-item >
                    <ion-input label="Name"  labelPlacement="stacked" type = "text" formControlName= "name"  placeholder="Enter Name" maxlength="50"></ion-input>
                </ion-item>

                <ion-item >
                    <ion-input label="Bio({{ remainingCharacters }})"  labelPlacement="stacked" type = "text" formControlName= "bio" placeholder="Enter Bio" maxlength="120"
                               (input)="updateCharacterCount()" #bioInput></ion-input>
<!--                    <div class="character-count"></div>-->
                </ion-item>

                <ion-item >
                <ion-input label="Email"  labelPlacement="stacked" type = "email" formControlName= "email" placeholder="Enter Email"></ion-input>
                </ion-item>

                <ion-item>
                    <ion-input label="Phone Number" labelPlacement="stacked" type = "text" formControlName= "phoneNumber" placeholder="Enter Phone Number"></ion-input>
                </ion-item>

                <ion-button id="open-toast" expand="block" (click)="saveProfile()" [disabled] = "!isEditMode"> Save </ion-button>
            </form>
    </ion-list>
</ion-card>
